<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ruby .() notation</title>
  <meta name="description" content="In Ruby, .() is a syntatic sugar for call method.">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://kw7oe.github.io/ruby/2017/10/15/ruby-dot-parentheses-notation.html">
  <link rel="alternate" type="application/rss+xml" title="kw7oe" href="/feed.xml">

  
</head>


  <body>

    

    <div class="section">
  <main class="main-col" aria-label="Content">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Ruby .() notation</h1>
    <small class="post-meta">
      <time datetime="2017-10-15T18:12:19+08:00" itemprop="datePublished">
        
        Oct 15, 2017
      </time>
      </small>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>In Ruby, <code class="highlighter-rouge">.()</code> is a syntatic sugar for <code class="highlighter-rouge">call</code> method.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="k">def</span> <span class="nf">call</span>
    <span class="s2">"Hello World"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">Person</span><span class="p">.</span><span class="nf">new</span><span class="o">.</span><span class="p">()</span>
<span class="c1">#=&gt; Hello World</span>
</code></pre></div></div>

<p>In this example, we declare a <code class="highlighter-rouge">Person</code> class and <code class="highlighter-rouge">call</code> method in the class. With this, we can later execute <code class="highlighter-rouge">Person.new.()</code> to call the <code class="highlighter-rouge">call</code> method.</p>

<p>Note that, we need to initialize the <code class="highlighter-rouge">Person</code> object first by calling <code class="highlighter-rouge">new</code>, since the <code class="highlighter-rouge">call</code> is a instance method.</p>

<p>If we wanted to just call by <code class="highlighter-rouge">Person.()</code>, we can do it this way:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">call</span>
    <span class="s2">"Hello World"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">Person</span><span class="o">.</span><span class="p">()</span>
<span class="c1">#=&gt; "Hello World"</span>

</code></pre></div></div>

<p>Some programming languages such as Python, Swift and Scala initalize object by <code class="highlighter-rouge">Person()</code>. In Ruby, we canâ€™t override the <code class="highlighter-rouge">()</code> operator to achieve the same effect <em>(see this <a href="https://stackoverflow.com/questions/24351218/how-to-create-an-object-in-ruby-without-using-new?answertab=oldest#tab-top">StackOverflow question</a>)</em>. However, we can use <code class="highlighter-rouge">.()</code> to achieve a similar result:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Person</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
    <span class="vi">@age</span> <span class="o">=</span> <span class="n">age</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">call</span><span class="p">(</span><span class="nb">name</span><span class="p">:,</span> <span class="n">age</span><span class="p">:)</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">Person</span><span class="o">.</span><span class="p">(</span><span class="ss">name: </span><span class="s2">"Peter"</span><span class="p">,</span> <span class="ss">age: </span><span class="mi">12</span><span class="p">)</span>
<span class="c1">#=&gt; #&lt;Person:0x00007f991b80b8d8 @name="Peter", @age=12&gt;</span>
</code></pre></div></div>

<p>Another way is to use metaprogramming in Ruby. Take a look at this <a href="https://stackoverflow.com/a/24356542">StackOverflow answer</a> to find out how.</p>

  </div>

  
    

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://kw7oe.github.io/ruby/2017/10/15/ruby-dot-parentheses-notation.html';
      this.page.identifier = 'https://kw7oe.github.io/ruby/2017/10/15/ruby-dot-parentheses-notation.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://kw7oe-github-io.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


  
</article>

  </main>
</div>

    
    <script src="/assets/custom.js"></script>
  </body>

</html>
